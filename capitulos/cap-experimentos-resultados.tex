%%%% CAPÍTULO 4 - RESULTADOS E DISCUSSÃO

\chapter{Testes e Resultados}\label{cap:resultados}

Os testes foram feitos para prova de conceito e demonstração do funcionamento do protótipo, comparando as leituras \gls{CA} e \gls{CC} por este com as obtidas por um multímetro e por um osciloscópio.

\section{Teste de leitura da Rede}\label{sec:l-rede}

O primeiro teste se diz respeito à leitura da tensão e corrente de um circuito representado pela \autoref{fig:circuito-rede-falstad}, sendo o sinal a saída de uma tomada de 127 V do laboratório. O \textit{setup} básico se encontra nas figuras \ref{fig:setup-main} e \ref{fig:setup-main2}. Para este teste foi utilizado um reostato pois este possui a capacidade de suportar correntes altas. A resistência deste foi fixa em 60,3 $\Omega$, como representado na \autoref{fig:resistencia-reostato-teste}.

Utilizando a lei de ohm $v = r \cdot  i$, espera-se uma leitura de corrente de 2,11 A.

\begin{figure}[htb!]
    \caption{Diagrama do circuito do teste de leitura de rede.}
    \label{fig:circuito-rede-falstad}
    \includegraphics[width=0.4\textwidth]{figuras/circ-rede-falstad.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{\textit{Setup} básico para testes.}
    \label{fig:setup-main}
    \includegraphics[width=0.8\textwidth]{figuras/setup-basico.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{\textit{Setup} básico para testes completo.}
    \label{fig:setup-main2}
    \includegraphics[width=0.8\textwidth]{figuras/setup-basico-full.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Resistência do reostato.}
    \label{fig:resistencia-reostato-teste}
    \includegraphics[width=0.3\textwidth]{figuras/resistencia-reostato-teste.png}
    \fonte{}
\end{figure}

A \autoref{fig:leitura-rede-osc} representa a leitura da tensão rede feita pelo osciloscópio, a \autoref{fig:leitura-rede-mult-t} representa a leitura de tensão feita pelo multímetro e a \autoref{fig:leitura-rede-mult-c} a leitura da corrente do circuito feita por este. Pelo protótipo, a figura \autoref{fig:leitura-rede-boy-ondas} representa as ondas e o valor destas leituras, respectivamente. Além disso, também é possível obter os dados de frequência da rede, as potências ativa, reativa, aparente e o fator de potência encontrado no circuito.

\begin{figure}[htb!]
    \caption{Leitura da tensão do circuito do teste de leitura de rede - Osciloscópio.}
    \label{fig:leitura-rede-osc}
    \includegraphics[width=0.8\textwidth]{figuras/leitura-rede-osc.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da tensão do circuito do teste de leitura de rede - Multímetro.}
    \label{fig:leitura-rede-mult-t}
    \includegraphics[width=0.3\textwidth]{figuras/leitura-rede-mult-t.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da corrente do circuito do teste de leitura de rede - Multímetro.}
    \label{fig:leitura-rede-mult-c}
    \includegraphics[width=0.3\textwidth]{figuras/leitura-rede-mult-c.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura completa do circuito do teste de leitura de rede - Protótipo}
    \label{fig:leitura-rede-boy-ondas}
    \includegraphics[width=0.8\textwidth]{figuras/leitura-rede-boy-ondas.png}
    \fonte{}
\end{figure}

Comparando os sinais obtidos, percebe-se que o protótipo propõe uma qualidade de leitura excepcional para este range. A tabela \autoref{tab:resultados-01} contém os resultados e também o erro do protótipo considerando os valores do osciloscópio (erro 1) e do multímetro (erro 2) como referência.

\begin{table}[!ht]
    \centering
    \caption{Resultados do teste de leitura da rede.}
    \label{tab:resultados-01}
    \begin{tabular}{|l|l|l|l|l|l|}
        \hline
        \textbf{Leitura} & \textbf{Osciloscópio} & \textbf{Multímetro} & \textbf{Protótipo}  & \textbf{Erro 1}  & \textbf{Erro 2}  \\ \hline
        Rede (V)         & 130 V                 & 128,7 V             & 128,1 V             & 1,46\%          & 0,46\%           \\ \hline
        Rede (A)         & -                     & 2,129 A             & 2,130 A             & -               & 0,047\%          \\ \hline
    \end{tabular}
\end{table}



\section{Teste 200 mVpp}\label{teste-200mv}

O segundo teste propõe a verificação de outro range de leitura do protótipo. Para isto, um sinal de 200 mVpp foi gerado por um gerador de funções, conforme a \autoref{fig:ger-func-200}.

\begin{figure}[htb!]
    \caption{Gerador de funções - Sinal 200 mVpp.}
    \label{fig:ger-func-200}
    \includegraphics[width=0.8\textwidth]{figuras/ger-func-200.png}
    \fonte{}
\end{figure}

Utilizando-se novamente o osciloscópio e um multímetro, é possível comparar as leituras entre estes e o protótipo nas figuras \ref{fig:leitura-200-osc}, \ref{fig:leitura-200-mult} e \ref{fig:leitura-200-boy-onda}.

\begin{figure}[htb!]
    \caption{Leitura da onda de 200 mVpp - Osciloscópio}
    \label{fig:leitura-200-osc}
    \includegraphics[width=0.8\textwidth]{figuras/leitura-200-osc.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da onda de 200 mVpp - Multímetro (valor RMS)}
    \label{fig:leitura-200-mult}
    \includegraphics[width=0.3\textwidth]{figuras/leitura-200-mult.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da onda de 200 mVpp - Protótipo}
    \label{fig:leitura-200-boy-onda}
    \includegraphics[width=0.8\textwidth]{figuras/leitura-200-boy-onda.png}
    \fonte{}
\end{figure}

\begin{table}[!ht]
    \centering
    \caption{Resultados do teste de 200 mVpp.}
    \label{tab:resultados}
    \begin{tabular}{|p{2cm}|p{3cm}|p{2cm}|p{2cm}|p{2cm}|p{2cm}|}
        \hline
        \textbf{Leitura} & \textbf{Osciloscópio} & \textbf{Multímetro} & \textbf{Protótipo}    & \textbf{Erro 1}  & \textbf{Erro 2}   \\ \hline
        200 mVpp         & 143 mVRMS / 244 mVpp & 137 mVRMS          & 188 mVRMS / 263 mVpp & 31,47\% e 7,78\% & 37,23\%           \\ \hline
    \end{tabular}
\end{table}

Comparando os sinais obtidos, a diferença entre todos os diferentes instrumentos é notável neste range de leitura. O protótipo apresenta um erro fora do proposto pelas espeficicações. Este range pode ser melhor calibrado por software e seu erro curado a ponto de respeitar tais especificações. Nota-se também que existem valores de corrente e potências, porém o canal de tais não está conectado, sendo estes então descartáveis.

\section{Teste uA}\label{teste-ua}

Para a leitura de corrente no range de micro amperes, foi utilizado um resistor comum de 30 k$\Omega$, sendo este e seu valor representados pela \autoref{fig:res-30k}. Além disto, utilizou-se o gerador de função novamente para gerar uma tensão pequena de 10 Vpp ou 7.07 V. Com estes dados, utilizando novamente a lei de Ohm, se espera uma leitura de corrente de 0,000217 A ou 217 $\mu$A.

As leituras obtidas pelo multímetro e pelo protótipo são demonstradas pelas figuras \ref{fig:leitura-micro-mult} e \ref{fig:leitura-micro-boy-onda}.

\begin{figure}[htb!]
    \caption{Valor resistor de 30 k$\Omega$.}
    \label{fig:res-30k}
    \includegraphics[width=0.3\textwidth]{figuras/res-30k.png}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da corrente de 217 $\mu$A - Multímetro.}
    \label{fig:leitura-micro-mult}
    \includegraphics[width=0.3\textwidth]{figuras/leitura-micro-mult.jpg}
    \fonte{}
\end{figure}

\begin{figure}[htb!]
    \caption{Leitura da corrente de 210 $\mu$A - Protótipo.}
    \label{fig:leitura-micro-boy-onda}
    \includegraphics[width=0.8\textwidth]{figuras/leitura-micro-boy-onda.png}
    \fonte{}
\end{figure}


Olhando para os valores obtidos, percebe-se que o multímetro não apresenta um valor adequado, possívelmente por sua entrada de corrente no valor de micro estar queimada ou defeituosa. Já a leitura do protótipo está extremamente próxima do valor esperado, estando também dentro das especificações.

Finalmente, a tabela \ref{tab:resultados} contém todos os testes e seus resultados.

\begin{table}[!ht]
    \centering
    \caption{Resultados.}
    \label{tab:resultados}
    \begin{tabular}{|l|l|l|l|}
        \hline
        \textbf{Leitura} & \textbf{Osciloscópio} & \textbf{Multímetro} & \textbf{Protótipo}    \\ \hline
        Rede (V)         & 130 V                 & 128,7 V             & 128,1 V               \\ \hline
        Rede (A)         & -                     & 2,129 A             & 2,130 A               \\ \hline
        200 mVpp         & 143 mV RMS e 244 mVpp & 137 mV RMS          & 188 mV RMS e 263 mVpp \\ \hline
        217 $\mu$A       & -                     & 11,8 $\mu$A         & 210,7 $\mu$A          \\ \hline
    \end{tabular}
\end{table}
